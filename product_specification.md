# ClipBook AI (PageSaver) 제품 기획서

## 1. 서비스 개념 & 목표
### 1-1. 제품 개요
**제품명 제안:** ClipBook AI, PageSaver, 마크다(MarkDa)

**설명:**
"마우스로 텍스트를 드래그만 하면 자동 기록 → AI가 보고서·메일·노트 형태로 정리 → 노션 / PDF로 바로 저장하는 브라우저 자동 저장 확장 프로그램."

### 1-2. 핵심 가치 제안 (Value Proposition)
- **시간 단축:** 양질의 글을 손으로 복붙 → 정리 → 포맷까지 자동화.
- **컨텍스트 보존:** 원문 페이지 링크, 발췌 위치, 수집 시간을 합쳐 기록.
- **업무 친화:** 업무용 지식관리(SOP, 사례 정리, 고객대응 메일 초안 등)에 최적화.
- **비기술 사용자 친화:** “선택 → 버튼 클릭 → 완료” 수준의 사용자 경험.

### 1-3. 타깃 유저
- **움직이는 내용 수집가:** 브리핑 자료, 경쟁사 사례, 기술 문서를 모으는 마케터, PM, 연구자.
- **스터디/학생:** 강의 페이지, 블로그 글을 정리해서 노션 필통이나 PDF로 보관.
- **3–5시간 이상 브라우저 활용 직종:** 컨텐츠 기획자, 서비스 기획자, 컨설턴트, 쇼츠/영상 시나리오 작성 스태프.

## 2. 핵심 기능 정의
### 2-1. 텍스트 수집 (Capture)
| 기능 | 상세 설명 |
| :--- | :--- |
| **드래그 수집** | 페이지에서 마우스 드래그로 택스트를 선택 → “선택 구간 저장” 버튼에서 일괄 수집. |
| **모션/숏컷 수집** | Alt 키 누른 상태에서 드래그 → 자동으로 “임시 보관함”에 저장되는 퀵모드. |
| **영역 선별 수집** | 포맷을 둘 다 허용: <br> - **균일 집합:** 아티클 본문 같은 한 블록만 <br> - **분산 집합:** “강조 문장 + 주석 + 기사 브로드 핵심” 같이 여러 구간 혼합 |

### 2-2. AI 기반 글 정리 (Content Summarization & Template)
| 기능 | 상세 설명 |
| :--- | :--- |
| **기본 정리 모드** | “요약 + 키워드” <br> “원문 + 발췌 출처(페이지, 위치, 시간) 타임스탬프” |
| **템플릿 모드** | - **보고서형:** 제목, 배경, 문제/의의, 해결방향, 결론, 참고(링크) <br> - **메일형:** 인사, 핵심 내용, 요청사항, 경과공유, 첨부사항 <br> - **노션 노트형:** 제목, 추론/관찰, Action Item, 링크/태그 |
| **사용자 프롬프트 커스텀** | “팀 내 커뮤니케이션용 말투로 변환”, “감정성 낮추고 공식 문장으로”처럼 간단한 지시어 입력. |

### 2-3. 저장/배포 타깃
| 타깃 | 역할 |
| :--- | :--- |
| **노션 Blocks** | 페이지 또는 Database에 다음 형식으로 저장: <br> - 나무 위키 형태 블록: 제목 + 텍스트 + “원문 링크 + 수집 일시” |
| **PDF 저장** | 로컬 파일로 저장: <br> - 제목(선택), 날짜, 작성 방식(보고서/메일), 각 목차 세션, 출처 URL |
| **클라우드 선택 기능** | 향후 확장: 구글 드라이브 / 구글 Docs / Obsidian 연결 등은 플러그인 구조로 설계. |

### 2-4. 보드/컬렉션 관리 (Library)
| 기능 | 설명 |
| :--- | :--- |
| **컬렉션 생성** | “선정.3기 상품 레퍼런스”, “경쟁사 공지사항 핵심” 같은 이름의 컬렉션 생성. |
| **태그/필터** | - **태그:** Product, Marketing, Case, Inspiration 등. <br> - **필터:** 수집일, 페이지 도메인, 저장 플랫폼(노션/로컬 PDF). |
| **히스토리 & 검색** | 전체 선택 문장을 텍스트 검색 기반으로 빠르게 필터. |

## 3. 아키텍처·기술 스택
### 3-1. 확장 기능 구성 (크롬 기준, manifest V3)
| 구성요소 | 역할 |
| :--- | :--- |
| **content.js** | 브라우저 DOM에서 드래그 선택 영역 위치/HTML/요소 추적. 원문 페이지 정보(URL, 타이틀, 메타 타임스탬프)를 수집. |
| **background.js** | 선택된 텍스트 서버로 전송. AI API 호출 결과를 수신 후 노션 API / PDF 렌더러로 전달. |
| **popup.html** | 확장 버튼 클릭 시 열리는 팝업 UI: <br> - 최근 수집 목록 <br> - 정리 모드(보고서/메일/노트) <br> - 저장 타깃 선택 |

### 3-2. 외부 API 연동
- **AI 모델:** Gemini API 또는 OpenAI / Claude API → 정리/요약 템플릿 변환.
- **노션 API:** `/v1/pages` 생성 또는 `/v1/databases`에 레코드 생성(제목, 텍스트 프로퍼티, URL, 날짜).
- **PDF 엔진:** 브라우저 내 라이브러리(html2canvas, jspdf 등) or 서버측 PDF 엔진.

## 4. 사용자 흐름(Use Case Flow)
### 4-1. 기본 작업 흐름 (드래그 → 정리 → 저장)
1.  **페이지 서핑**
    -   사용자: 블로그, 커뮤니티, 기사 등에서 마우스 드래그로 문장 택션.
2.  **확장 버튼 클릭 후 수집**
    -   크롬 우측 상단 확장 아이콘 클릭 → 팝업 열림.
    -   “현재 페이지 선택 문장 수집” 버튼 클릭 → 드래그된 문장 목록을 업로드.
3.  **정리 타입 선택**
    -   **방식적(모달 팝업):** “보고서형” / “메일형” / “노션 노트형” / “카드형” 시각 선택 타입.
    -   **커스텀 프롬프트 영역:** 짧은 지시어 입력.
4.  **AI 정리 후 미리보기**
    -   서버에서 AI가 입력 텍스트를 선택된 포맷으로 변환.
    -   **브라우저 내 미리보기:** “원문 + AI 정리본” 병렬 비교. 수정 불가/수정 가능 모드 설정.
5.  **저장 위치 선택**
    -   **대상:** “노션으로 보내기(페이지)”, “노션으로 보내기(Database)”, “로컬 PDF로 저장”.
    -   **옵션:** 컬렉션/태그 선택, 노션 워크스페이스·페이지 선택(사전 로그인 상태에서).
6.  **완료/히스토리 반영**
    -   클리핑 기록을 디바이스 로컬 DB에 저장.
    -   확장 팝업 안에서 최근 10개 기록만 보여줌.
    -   연속 작업 시 “연속 수집 모드 ON/OFF” 선택.

## 5. UI/디자인 가이드
### 5-1. 색상·타이포 톤
-   **톤:** “편집·정리 도구” 느낌 → 미니멀·리드.
-   **컬러 팔레트:**
    -   **Primary:** #4361EE (파란 편집·생산성 느낌)
    -   **Secondary:** #7209B7 (조금 치밀한 기획자 색 조합)
    -   **Background:** #FFFFFF, **Card/Panel:** #F8F9FA
    -   **Text:** #212529, #6C757D (회색 설명문구)
-   **타이포:**
    -   제목: Medium / Semi-Bold, 14–16pt
    -   본문: Regular, 13pt
    -   작은 텍스트(설명문구): 11–12pt, 회색(#6C757D).

### 5-2. 주요 인터페이스(팝업 UI)
-   **탭 A: 작성·전송**
    -   4개 버튼 가로 정렬: 보고서, 메일, 노션 노트, 카드형.
    -   텍스트 영역 힌트: “특정 말투(예: 공식 문서)나 형식이 있나요?”
    -   “정리 시작” 버튼 (Primary 색).
-   **탭 B: 저장 대상**
    -   라디오 그룹: 노션 페이지, 노션 DB, 로컬 PDF.
    -   입력 컬렉션/태그 (자동 추천).
    -   “노션 로그인 연동” 버튼.
-   **탭 C: 히스토리**
    -   항목 리스트: 날짜 · 컬렉션 이름 · 페이지 URL.
    -   각 항목에서: “다시 정리”, “이 메모를 노션으로 이동”.

### 5-3. 아이콘·콤포넌트 안내
-   **확장 아이콘:** 작은 책 + 연필 또는 책 + 스플러터. 배지 숫자로 수집 문장 수 표시.
-   **선택 후 아이콘(툴팁):** “○개 문장 선택됨”, “정리 시작 버튼 클릭”.
-   **정리 진행 상태:** Lottie/세그먼트 막대 (“웹 페이지 분석 중…”, “AI 정리 중…”).

## 6. 세부 인터랙션·UX 고려사항
### 6-1. 드래그 시 동작
-   **강조 효과:** 선택 시 faint highlight 색 (ex: #FEF3C7).
-   **옵션:** “모든 선택 취소” 혹은 “전체 선택 저장” 팝업.

### 6-2. 정리 결과 수정 방식
-   **러프 편집:** AI 정리 문장을 발췌 단위별로 span으로 묶어 일부만 교체.
-   **완전 편집:** 전체 문서를 텍스트 에디터에서 다시 쓰는 “무한 수정 모드”.

## 7. 초기 v1.0 MVP 기능 범위
-   [x] 드래그로 선택된 문장 수집
-   [x] AI 정리 (보고서/메일/노션 노트 기본 3가지 형식)
-   [x] 노션 페이지에 발췌+요약 저장 (OAuth 토큰 기반)
-   [x] 로컬 PDF 저장 (브라우저 기반 PDF 변환)
-   [x] 컬렉션·태그 관리 (디바이스 로컬 기준)
-   [ ] 여러 페이지 걸친 “연속 클리핑” 자동 보관함 (v1 후반)

## 8. 보완 방향(고급 기능 Roadmap)
-   **템플릿 커스텀 저장:** “우리 팀 메일 양식” 정의 및 자동 변환.
-   **자동 자식 페이지 생성:** 수집 주제별로 하위 페이지 자동 생성.
-   **콜렉션 공유 기능:** 팀원끼리 컬렉션 공유.
